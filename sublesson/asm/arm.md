# アセンブリまとめ

## MRS命令
システムコプロセッサレジスタから ARMレジスタへの移動命令です。

### 構文

```
MRS{ cond } Rn , coproc_register
MRS{ cond } APSR_nzcv, special_register
```

各項目には以下の意味があります。
#### cond
任意の条件コードを指定します。
#### coproc_register
コプロセッサレジスタの名前を指定します。
#### special_register
APSR_nzcv に書き込むことのできるコプロセッサレジスタの名前を指定します。コプロセッサレ
ジスタ DBGDSCRint の場合にのみ使用できます。
#### Rn
ARM デスティネーションレジスタを指定します。Rn に PC は指定できません。

### 使用法
この疑似命令を使用すると、CP14 または CP15 コプロセッサレジスタを読み取ることができます。ただ
し、書き込み専用レジスタは除きます。該当するすべてのコプロセッサレジスタの名前は、『ARMv7-AR
アーキテクチャリファレンスマニュアル』に記載されています。


## AND命令
論理積

### 構文

```
AND{S}{ cond } Rd , Rn , Operand2
```

#### S
任意に指定できる接尾文字です。S が指定されている場合は、演算結果に基づいて条件フラ
グが更新されます。

#### cond
任意の条件コードを指定します。

#### Rd
デスティネーションレジスタを指定します。

#### Rn
第 1 オペランドを保持するレジスタを指定します。

#### Operand2
フレキシブル第 2 オペランドを指定します。

### 演算
AND 命令は Rn の値と Operand2 の値を使用してビット単位論理積を取ります。
状況によっては、アセンブラによって BIC を AND に、AND を BIC に置換できる場合があります。逆アセン
ブルリストを参照するときは、この点に注意して下さい。


## CBZ命令
ゼロとの比較と分岐を行う命令です（ゼロまたはゼロでない場合に分岐します）。

### 構文

```
CBZ Rn, label
```

#### Rn
オペランドを保持するレジスタ。
#### Label
分岐先を指定する。


## B命令
分岐命令です。

## 構文

```
B{ cond }{.W} label
```

#### cond
任意の条件コードを指定します。

#### .W
T32の32ビットB命令を使用させるために、命令の幅の指定子を指定します（省略可）。

#### Label
PC相対式を指定します。

### 演算
B命令により、labelに分岐します。

## MOV命令
移動
Operand2の値をRdにコピーする

### 構文

```
MOV{S}{ cond } Rd , Operand2
MOV{ cond } Rd , # imm16
```

#### S
任意に設定できる設備文字、設定されている場合は演算結果に基づいて条件フラグが更新される。

#### cond
任意の条件コード

#### Rd
ディスティネーションレジスタ

#### Operand2
フレキシブル第２オペランド

### 演算
Operand2の値をRdにコピーする。

#### imm16
0　〜 65535

## BL命令

### 構文

```
BL{ cond }{.W} label
```

#### cond
任意の条件コード

#### .W
T32の32ビット命令を指定するために、命令の幅の指定子

#### label
PC相対式

### 演算
BL命令によりlabelに分岐し、次の命令のアドレスがLR(R14:リンクレジスタ)にコピーされる。

# 参考
http://infocenter.arm.com/help/topic/com.arm.doc.dui0801cj/DUI0801CJ_armasm_user_guide.pdf